<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta name="description" content="GitHub 文件加速"/>
    <meta name="keywords" content="GitHub,proxy,github加速,github加速下载"/>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="/logo.png" type="image/x-icon"/>
    <!-- Waline CSS -->
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v3/dist/waline.css">
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v3/dist/waline-meta.css">
    <!-- 外部CSS文件 -->
    <link rel="stylesheet" href="/styles.css">
    <title>GitHub 文件加速</title>
</head>
<body>
    <!-- 主题切换按钮 -->
    <button class="theme-toggle" id="theme-toggle" aria-label="切换主题">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path id="theme-icon" d="M12 2.5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 12 2.5zm0 17a7.5 7.5 0 1 1 7.5-7.5 7.5 7.5 0 0 1-7.5 7.5z" fill="currentColor"/>
        </svg>
    </button>

    

    <h1 style="margin-bottom: 50px">
        <img src="/logo.png" style="width: 1.5em;margin-right: .2em;vertical-align: bottom;">GitHub 文件加速
    </h1>
    
    <form style="padding-bottom: 40px" class="flex">
        <label class="block" style="width: fit-content">
            <input class="block url" name="q" id="url-input" type="text" placeholder="键入Github文件链接" 
                   pattern="^((https|http):\/\/)?(github\.com\/.+?\/.+?\/(?:releases|archive|blob|raw|suites|api)|((?:raw|gist|api)\.(?:githubusercontent|github)\.com))\/.+$" required>
            <div class="bar"></div>
        </label>
        <input class="block btn" id="submit-btn" type="submit" value="加速访问">
        <div class="tips">
            <p>GitHub文件链接带不带协议头都可以，支持release、archive、blob、raw、gist、git clone和GitHub API</p>
        </div>
        <div class="example">
            <p>github.com/user/repo/releases/download/v1.0.0/file.zip<br>
            github.com/user/repo/archive/master.zip<br>
            github.com/user/repo/blob/master/file.txt<br>
            raw.githubusercontent.com/user/repo/master/file.txt<br>
            gist.github.com/user/123456789/file.txt<br>
            api.github.com/users/user<br>
            api.github.com/repos/user/repo</p>
        </div>
    </form>
    
    
    
    <!-- 评论区 -->
    <div class="comments">
        <h2>用户评论</h2>
        <div id="waline"></div>
    </div>

    <!-- 页脚 -->
    <p style="position: sticky;top: calc(100% - 2.5em);">
        由 <a style="color: #1E90FF" href="https://github.com/TBeduCN/FastCode" target="_blank" rel="noopener noreferrer">FastCode</a> 
        <span id="fastcode-version">(版本: 加载中...)</span> 提供技术支持 |
        版权所有 © <span id="year"></span> <a style="color: #1E90FF" href="https://www.tbedu.top" target="_blank" rel="noopener noreferrer">TBeduCN</a>
        <script>
            // 自动更新年份
            document.getElementById('year').textContent = new Date().getFullYear();
            
            // 获取FastCode版本信息
            fetch('/api/version')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('fastcode-version').textContent = `(版本: ${data.version})`;
                })
                .catch(error => {
                    console.error('获取版本信息失败:', error);
                    document.getElementById('fastcode-version').textContent = '(版本: 未知)';
                });
        </script>
    </p>

    <!-- 外部JavaScript文件 -->
    <script type="module" src="/script.js"></script>
    <script type="module" src="/waline.js"></script>
</body>
</html>